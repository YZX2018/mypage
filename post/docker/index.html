<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>docker | 首页</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://yzx2018.github.io/mypage//favicon.ico?v=1681804114105">
<link rel="stylesheet" href="https://yzx2018.github.io/mypage//styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="#为什么会有docker出现
一款产品从开发到上线，从操作系统，到运行环境，再到应用配置。作为开发+运维之间的协作我们需要关心很多东西，这也是很多互联网公司都不得不面对的问题，特别是各种版本的迭代之后，不同版本环境的兼容，对运维人员都是考验..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://yzx2018.github.io/mypage/">
        <img src="https://yzx2018.github.io/mypage//images/avatar.png?v=1681804114105" class="site-logo">
        <h1 class="site-title">首页</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      温故而知新
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://yzx2018.github.io/mypage//atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">docker</h2>
            <div class="post-date">2018-05-02</div>
            
            <div class="post-content" v-pre>
              <p>#为什么会有docker出现<br>
一款产品从开发到上线，从操作系统，到运行环境，再到应用配置。作为开发+运维之间的协作我们需要关心很多东西，这也是很多互联网公司都不得不面对的问题，特别是各种版本的迭代之后，不同版本环境的兼容，对运维人员都是考验<br>
环境配置如此麻烦，换一台机器，就要重来一次，费力费时。很多人想到，能不能从根本上解决问题，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mstyle mathcolor="red"><mrow><mi mathvariant="normal">软</mi><mi mathvariant="normal">件</mi><mi mathvariant="normal">可</mi><mi mathvariant="normal">以</mi><mi mathvariant="normal">带</mi><mi mathvariant="normal">环</mi><mi mathvariant="normal">境</mi><mi mathvariant="normal">安</mi><mi mathvariant="normal">装</mi><mi mathvariant="normal">？</mi><mi mathvariant="normal">也</mi><mi mathvariant="normal">就</mi><mi mathvariant="normal">是</mi><mi mathvariant="normal">说</mi><mi mathvariant="normal">，</mi><mi mathvariant="normal">安</mi><mi mathvariant="normal">装</mi><mi mathvariant="normal">的</mi><mi mathvariant="normal">时</mi><mi mathvariant="normal">候</mi><mi mathvariant="normal">，</mi><mi mathvariant="normal">把</mi><mi mathvariant="normal">原</mi><mi mathvariant="normal">始</mi><mi mathvariant="normal">环</mi><mi mathvariant="normal">境</mi><mi mathvariant="normal">一</mi><mi mathvariant="normal">模</mi><mi mathvariant="normal">一</mi><mi mathvariant="normal">样</mi><mi mathvariant="normal">地</mi><mi mathvariant="normal">复</mi><mi mathvariant="normal">制</mi><mi mathvariant="normal">过</mi><mi mathvariant="normal">来</mi><mi mathvariant="normal">。</mi><mi mathvariant="normal">开</mi><mi mathvariant="normal">发</mi><mi mathvariant="normal">人</mi><mi mathvariant="normal">员</mi><mi mathvariant="normal">利</mi><mi mathvariant="normal">用</mi><mi>D</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>e</mi><mi>r</mi><mi mathvariant="normal">可</mi><mi mathvariant="normal">以</mi><mi mathvariant="normal">消</mi><mi mathvariant="normal">除</mi><mi mathvariant="normal">协</mi><mi mathvariant="normal">作</mi><mi mathvariant="normal">编</mi><mi mathvariant="normal">码</mi><mi mathvariant="normal">时</mi><mi mathvariant="normal">“</mi><mi mathvariant="normal">在</mi><mi mathvariant="normal">我</mi><mi mathvariant="normal">的</mi><mi mathvariant="normal">机</mi><mi mathvariant="normal">器</mi><mi mathvariant="normal">上</mi><mi mathvariant="normal">可</mi><mi mathvariant="normal">正</mi><mi mathvariant="normal">常</mi><mi mathvariant="normal">工</mi><mi mathvariant="normal">作</mi><mi mathvariant="normal">”</mi><mi mathvariant="normal">的</mi><mi mathvariant="normal">问</mi><mi mathvariant="normal">题</mi><mi mathvariant="normal">。</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\color{red}{软件可以带环境安装？也就是说，安装的时候，把原始环境一模一样地复制过来。开发人员利用 Docker 可以消除协作编码时“在我的机器上可正常工作”的问题。}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord" style="color:red;"><span class="mord cjk_fallback" style="color:red;">软</span><span class="mord cjk_fallback" style="color:red;">件</span><span class="mord cjk_fallback" style="color:red;">可</span><span class="mord cjk_fallback" style="color:red;">以</span><span class="mord cjk_fallback" style="color:red;">带</span><span class="mord cjk_fallback" style="color:red;">环</span><span class="mord cjk_fallback" style="color:red;">境</span><span class="mord cjk_fallback" style="color:red;">安</span><span class="mord cjk_fallback" style="color:red;">装</span><span class="mord cjk_fallback" style="color:red;">？</span><span class="mord cjk_fallback" style="color:red;">也</span><span class="mord cjk_fallback" style="color:red;">就</span><span class="mord cjk_fallback" style="color:red;">是</span><span class="mord cjk_fallback" style="color:red;">说</span><span class="mord cjk_fallback" style="color:red;">，</span><span class="mord cjk_fallback" style="color:red;">安</span><span class="mord cjk_fallback" style="color:red;">装</span><span class="mord cjk_fallback" style="color:red;">的</span><span class="mord cjk_fallback" style="color:red;">时</span><span class="mord cjk_fallback" style="color:red;">候</span><span class="mord cjk_fallback" style="color:red;">，</span><span class="mord cjk_fallback" style="color:red;">把</span><span class="mord cjk_fallback" style="color:red;">原</span><span class="mord cjk_fallback" style="color:red;">始</span><span class="mord cjk_fallback" style="color:red;">环</span><span class="mord cjk_fallback" style="color:red;">境</span><span class="mord cjk_fallback" style="color:red;">一</span><span class="mord cjk_fallback" style="color:red;">模</span><span class="mord cjk_fallback" style="color:red;">一</span><span class="mord cjk_fallback" style="color:red;">样</span><span class="mord cjk_fallback" style="color:red;">地</span><span class="mord cjk_fallback" style="color:red;">复</span><span class="mord cjk_fallback" style="color:red;">制</span><span class="mord cjk_fallback" style="color:red;">过</span><span class="mord cjk_fallback" style="color:red;">来</span><span class="mord cjk_fallback" style="color:red;">。</span><span class="mord cjk_fallback" style="color:red;">开</span><span class="mord cjk_fallback" style="color:red;">发</span><span class="mord cjk_fallback" style="color:red;">人</span><span class="mord cjk_fallback" style="color:red;">员</span><span class="mord cjk_fallback" style="color:red;">利</span><span class="mord cjk_fallback" style="color:red;">用</span><span class="mord mathdefault" style="margin-right:0.02778em;color:red;">D</span><span class="mord mathdefault" style="color:red;">o</span><span class="mord mathdefault" style="color:red;">c</span><span class="mord mathdefault" style="margin-right:0.03148em;color:red;">k</span><span class="mord mathdefault" style="color:red;">e</span><span class="mord mathdefault" style="margin-right:0.02778em;color:red;">r</span><span class="mord cjk_fallback" style="color:red;">可</span><span class="mord cjk_fallback" style="color:red;">以</span><span class="mord cjk_fallback" style="color:red;">消</span><span class="mord cjk_fallback" style="color:red;">除</span><span class="mord cjk_fallback" style="color:red;">协</span><span class="mord cjk_fallback" style="color:red;">作</span><span class="mord cjk_fallback" style="color:red;">编</span><span class="mord cjk_fallback" style="color:red;">码</span><span class="mord cjk_fallback" style="color:red;">时</span><span class="mord" style="color:red;">“</span><span class="mord cjk_fallback" style="color:red;">在</span><span class="mord cjk_fallback" style="color:red;">我</span><span class="mord cjk_fallback" style="color:red;">的</span><span class="mord cjk_fallback" style="color:red;">机</span><span class="mord cjk_fallback" style="color:red;">器</span><span class="mord cjk_fallback" style="color:red;">上</span><span class="mord cjk_fallback" style="color:red;">可</span><span class="mord cjk_fallback" style="color:red;">正</span><span class="mord cjk_fallback" style="color:red;">常</span><span class="mord cjk_fallback" style="color:red;">工</span><span class="mord cjk_fallback" style="color:red;">作</span><span class="mord" style="color:red;">”</span><span class="mord cjk_fallback" style="color:red;">的</span><span class="mord cjk_fallback" style="color:red;">问</span><span class="mord cjk_fallback" style="color:red;">题</span><span class="mord cjk_fallback" style="color:red;">。</span></span></span></span></span><br>
之前在服务器配置一个应用的运行环境，要安装各种软件，Java/Tomcat/MySQL/JDBC驱动包等。安装和配置这些东西有多麻烦就不说了，它还不能跨平台。假如我们是在 Windows 上安装的这些环境，到了 Linux 又得重新装。况且就算不跨操作系统，换另一台同样操作系统的服务器，要移植应用也是非常麻烦的。<br>
传统上认为，软件编码开发/测试结束后，所产出的成果即是程序或是能够编译执行的二进制字节码等(java为例)。而为了让这些程序可以顺利执行，开发团队也得准备完整的部署文件，让维运团队得以部署应用程式，开发需要清楚的告诉运维部署团队，用的全部配置文件+所有软件环境。不过，即便如此，仍然常常发生部署失败的状况。Docker镜像的设计，使得Docker得以打破过去「程序即应用」的观念。透过镜像(images)将作业系统核心除外，运作应用程式所需要的系统环境，由下而上打包，达到应用程式跨平台间的无缝接轨运作。</p>
<p>安装Docker CE  CE社区版官方文档https://docs.docker.com/install/linux/docker-ce/centos/#install-using-the-repository</p>
<p>在新主机上首次安装Docker CE之前，需要设置Docker存储库。之后，您可以从存储库安装和更新Docker。</p>
<p>设置存储库   root用户可以省略sudo<br>
1.安装所需的包。yum-utils提供了yum-config-manager 效用，并device-mapper-persistent-data和lvm2由需要 devicemapper存储驱动程序。<br>
$ sudo yum install -y yum-utils \<br>
device-mapper-persistent-data \<br>
lvm2</p>
<p>2.使用以下命令设置稳定存储库。<br>
$ sudo yum-config-manager \<br>
--add-repo \<br>
https://download.docker.com/linux/centos/docker-ce.repo</p>
<p>3.安装最新版本的Docker CE和containerd<br>
$ sudo yum install docker-ce docker-ce-cli containerd.io</p>
<p>4.启动Docker。<br>
$ sudo systemctl start docker</p>
<p>docker本身的仓库很慢，配置阿里云的docker仓库  https://cr.console.aliyun.com/cn-hangzhou/mirrors<br>
使用配置文件 /etc/docker/daemon.json（没有时新建该文件）<br>
vi /etc/docker/daemon.json</p>
<p>加上  以你阿里云登录的信息<img src="https://cdn.jsdelivr.net/gh/YZX2018/images/docker-1.jpg" alt="image.png" loading="lazy">为准<br>
我的是<br>
{<br>
&quot;registry-mirrors&quot;: [&quot;https://ydsutd7i.mirror.aliyuncs.com&quot;]<br>
}</p>
<p>然后重启<br>
sudo systemctl daemon-reload<br>
sudo systemctl restart docker</p>
<p>运行hello-world镜像<br>
docker run hello-world<br>
<img src="https://cdn.jsdelivr.net/gh/YZX2018/images/docker-2.jpg" alt="image.png" loading="lazy"><br>
成功下载到镜像</p>

            </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://yzx2018.github.io/mypage/post/fen-bu-shi-xie-diao-gong-ju-zookeeper-chu-shi-yu-ying-yong-chang-jing/">
                  <h3 class="post-title">
                    分布式协调工具-zookeeper初识与应用场景
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
